<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>mBio World Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container">
        <section id="screen-auth" class="view active">
            <div class="auth-card">
                <h1 class="brand">mBio <span>World</span></h1>
                <p class="tagline">Target NEET Biology</p>
                <div class="input-group">
                    <input type="email" id="email" placeholder="Email Address">
                    <input type="password" id="password" placeholder="Password">
                </div>
                <button class="btn-primary" onclick="handleLogin()">Login</button>
                <div class="auth-links">
                    <span onclick="toggleAuth('reg')">New Student? Register</span>
                    <span onclick="forgotPassword()">Forgot Password?</span>
                </div>
            </div>
            
            <div id="reg-box" class="auth-card hidden">
                <h2>Join mBio World</h2>
                <div class="input-group">
                    <input type="text" id="reg-name" placeholder="Full Name">
                    <input type="email" id="reg-email" placeholder="Email">
                    <input type="password" id="reg-password" placeholder="Password">
                </div>
                <button class="btn-primary" onclick="handleRegister()">Create Account</button>
                <p class="back-link" onclick="toggleAuth('login')">Back to Login</p>
            </div>
        </section>

        <section id="screen-student" class="view">
            <header class="navbar">
                <div class="user-profile">
                    <img src="https://ui-avatars.com/api/?name=User&background=00b894&color=fff" alt="P">
                    <span id="user-name">NEET Aspirant</span>
                </div>
                <button class="icon-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i></button>
            </header>
            
            <div class="container">
                <div class="stats-card">
                    <div class="stat"><span>Syllabus</span><h3 id="stat-syllabus">0%</h3></div>
                    <div class="stat-divider"></div>
                    <div class="stat"><span>Accuracy</span><h3 id="stat-accuracy">0%</h3></div>
                </div>

                <div class="action-grid">
                    <div class="menu-card" onclick="openModule('ncert')">
                        <div class="icon-wrap bg-green"><i class="fas fa-book-open"></i></div>
                        <p>NCERT Library</p>
                    </div>
                    <div class="menu-card" onclick="openModule('quiz')">
                        <div class="icon-wrap bg-blue"><i class="fas fa-bolt"></i></div>
                        <p>Daily Quiz</p>
                    </div>
                    <div class="menu-card" onclick="openModule('vault')">
                        <div class="icon-wrap bg-orange"><i class="fas fa-shield-virus"></i></div>
                        <p>Error Vault</p>
                    </div>
                    <div class="menu-card">
                        <div class="icon-wrap bg-purple"><i class="fas fa-medal"></i></div>
                        <p>Leaderboard</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="screen-quiz" class="view">
            <div class="quiz-header">
                <button class="back-btn" onclick="showView('screen-student')"><i class="fas fa-arrow-left"></i></button>
                <div class="timer-display" id="quiz-timer">60s</div>
                <span id="attempt-badge">Attempt 1</span>
            </div>
            <div class="quiz-body">
                <div class="question-frame">
                    <img id="question-img" src="" alt="Question Image">
                </div>
                <div class="options-grid">
                    <button class="opt-btn" onclick="selectOption('A')">A</button>
                    <button class="opt-btn" onclick="selectOption('B')">B</button>
                    <button class="opt-btn" onclick="selectOption('C')">C</button>
                    <button class="opt-btn" onclick="selectOption('D')">D</button>
                </div>
                <div class="quiz-footer">
                    <button class="nav-btn" onclick="prevQuestion()">Previous</button>
                    <button class="btn-submit" onclick="submitCurrentAnswer()">Submit</button>
                    <button class="nav-btn" onclick="nextQuestion()">Next</button>
                </div>
            </div>
        </section>

        <section id="screen-teacher" class="view">
            <header class="navbar">
                <span>Teacher Control</span>
                <button onclick="logout()">Logout</button>
            </header>
            <div class="container">
                <div class="upload-card">
                    <h3>Post New Question</h3>
                    <div class="file-drop" onclick="document.getElementById('file-input').click()">
                        <i class="fas fa-image"></i>
                        <p id="file-label">Select from Gallery</p>
                        <input type="file" id="file-input" class="hidden" accept="image/*" onchange="previewFile(this)">
                    </div>
                    <img id="upload-preview" class="hidden preview-img">
                    <input type="text" id="ans-input" placeholder="Correct Answer (A/B/C/D)">
                    <input type="text" id="ncert-link" placeholder="NCERT Page Reference">
                    <button class="btn-primary" onclick="teacherUpload()">Publish to Students</button>
                </div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
    </html>
                            
